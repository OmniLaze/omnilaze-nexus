# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Project Overview

This is "omnilaze-nexus", a modern React admin dashboard built with ShadcnUI and Vite. It's part of the OmniLaze Universal project suite and serves as an administrative interface for managing users, orders, invite codes, and DevOps operations.

The application is designed with responsiveness and accessibility in mind, featuring a clean admin interface with comprehensive data management capabilities.

## Architecture

### Core Technologies
- **Framework**: React 19 with TypeScript
- **Build Tool**: Vite 7
- **UI Library**: ShadcnUI (TailwindCSS + RadixUI)
- **Routing**: TanStack Router with file-based routing
- **State Management**: Zustand for global state
- **Data Fetching**: TanStack Query (React Query)
- **Authentication**: Clerk integration (partial)
- **Icons**: Tabler Icons and Lucide React
- **Forms**: React Hook Form with Zod validation

### Project Structure

#### Core Application (`src/`)
- **Routes**: File-based routing with `_authenticated` layout protection
  - `(auth)/` - Authentication pages (sign-in, sign-up, OTP, forgot password)
  - `_authenticated/` - Protected admin routes (dashboard, users, orders, etc.)
  - `(errors)/` - Error pages (401, 403, 404, 500, 503)
- **Components**: 
  - `ui/` - ShadcnUI base components (auto-generated, do not edit)
  - `layout/` - Layout components including sidebar, header, and authenticated wrapper
  - Reusable components like command menu, theme switch, and data tables
- **Features**: Feature-based organization for major functionality
  - `auth/` - Authentication flows and forms
  - `dashboard/` - Main dashboard with analytics
  - `users/` - User management with data tables
  - `tasks/` - Task management system
  - `settings/` - Application settings
  - `errors/` - Error page components
- **Stores**: Zustand state management (`authStore.ts`)
- **Context**: React context providers for theme, search, and fonts
- **Hooks**: Custom hooks for dialog state and mobile detection

#### Key Configuration Files
- `components.json` - ShadcnUI configuration
- `vite.config.ts` - Vite build configuration with TanStack Router plugin
- `eslint.config.js` - ESLint rules with TypeScript and React plugins
- `tsconfig.json` - TypeScript configuration with path aliases

### Authentication & Authorization
- Cookie-based token storage using `js-cookie`
- Zustand store manages auth state with user info and access tokens
- Protected routes using `_authenticated` layout
- Clerk integration for enhanced authentication features

### Data Management
- TanStack Query for server state management
- Axios-based API client with interceptors for authentication
- Environment-based API configuration via `VITE_API_BASE_URL`
- Data tables with filtering, sorting, and pagination using TanStack Table

## Development Commands

### Core Development
```bash
# Install dependencies
pnpm install

# Start development server
pnpm run dev

# Build for production
pnpm run build

# Preview production build
pnpm run preview
```

### Code Quality
```bash
# Run ESLint
pnpm run lint

# Format code with Prettier
pnpm run format

# Check formatting
pnpm run format:check

# Analyze bundle and dependencies
pnpm run knip
```

### Testing & Development
The project uses Vite's development server with hot module replacement. TanStack Router and React Query devtools are available in development mode.

## Important Development Guidelines

### Component Development
- **UI Components**: Never edit files in `src/components/ui/` - these are auto-generated by ShadcnUI
- **New Components**: Add to appropriate feature directories or `src/components/` for shared components
- **Styling**: Use TailwindCSS with the configured design system (slate base color, CSS variables enabled)

### State Management
- Use Zustand for global state (see `authStore.ts` as example)
- Prefer TanStack Query for server state
- Use React Context for component tree-specific state (theme, search)

### Routing
- File-based routing with TanStack Router
- Use `_authenticated` prefix for protected routes
- Error boundaries configured at route level
- Automatic code splitting enabled

### Code Standards
- TypeScript strict mode enabled
- ESLint enforces React hooks rules and TypeScript best practices
- No console logs in production (`no-console: error`)
- Unused variables must be prefixed with `_`
- UI components directory ignored by ESLint

### API Integration
- Use the configured Axios instance from `src/lib/api.ts`
- Authentication tokens automatically injected via interceptors
- Environment variables for API configuration
- TanStack Query for data fetching patterns

### Styling & Theming
- TailwindCSS v4 with Vite plugin
- ShadcnUI design tokens and CSS variables
- Dark/light mode support via theme context
- Responsive design with mobile-first approach

## Environment Configuration

### Required Environment Variables
- `VITE_API_BASE_URL` - Backend API base URL (defaults to `/v1`)

### Development Tools
- React Query Devtools (development only)
- TanStack Router Devtools (development only)
- Vite HMR and fast refresh

### Build Configuration
- TypeScript compilation with strict mode
- Vite bundling with React SWC plugin
- TailwindCSS processing
- Path aliases configured (`@/` maps to `src/`)

## Package Management
- Uses pnpm as package manager (version 10.14.0+)
- Lock file committed for consistent dependencies
- Private package (not published to npm)